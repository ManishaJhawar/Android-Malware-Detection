import csv

with open('top100each.csv','rb') as f1: #selected top 100 most useful permissions for benign and malicious using feature selection
	reader1=csv.reader(f1)
	uniquePerms=[]
	for row in reader1:
		uniquePerms.append(row[0].strip())
uniquePerms.append("class_label")

with open('b_appwisePerms.csv','rb') as f2:
	with open('m_appwisePerms.csv','rb') as f3:
		reader2=csv.reader(f2)
		reader3=csv.reader(f3)
		with open('top100eachAndroidDataset.csv', 'wb') as f:
			writer = csv.writer(f)
			writer.writerow(uniquePerms)
			for row in reader2:
				templist=[]
				for i in uniquePerms:
					if i in row:
						templist.append(1)
					elif (i=="class_label"): #----------------BENIGN-------------
						templist.append(1)
					else:
						templist.append(0)
				writer.writerow(templist)
			for row in reader3:
				templist=[]
				for i in uniquePerms:
					if i in row:
						templist.append(1)
					elif (i=="class_label"): #----------------MALICIOUS-------------
						templist.append(0)
					else:
						templist.append(0)
				writer.writerow(templist)
